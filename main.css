@import '@waveform-audio/player/index.css';

/* 基础按钮样式重置 */
.wa-player button {
  box-shadow: none;
  width: auto;
  height: auto;
  background-color: transparent;
  padding: 0;
}

/* 隐藏默认音频元素 */
.internal-embed audio {
  display: none;
}

/* 播放器容器样式 */
.waveform-player-widget {
  border-radius: 8px;
  overflow: hidden;
  display: block;
  width: 100%;
  background: var(--background-secondary);
  margin: 0.5em 0;
}

.waveform-player-widget-container {
  position: relative;
  width: 100%;
  display: block;
  transition: all 0.3s ease;
  margin: 0.5em 0;
}

/* 实时预览模式样式 */
.markdown-source-view.mod-cm6.is-live-preview .cm-content .waveform-player-widget-container {
  display: block !important;
  visibility: visible !important;
  position: relative !important;
  pointer-events: auto !important;
  user-select: auto !important;
  z-index: 1;
}

/* 实时预览模式下的嵌套样式 */
.markdown-source-view.mod-cm6.is-live-preview .cm-line .waveform-player-widget-container {
  margin: 0.5em 0 !important;
  padding-left: 0.5em !important;
  border-left: 2px solid var(--interactive-accent);
}

/* 确保播放器在实时预览模式下可以交互 */
.markdown-source-view.mod-cm6.is-live-preview .waveform-player-widget {
  pointer-events: auto !important;
  user-select: auto !important;
  position: relative !important;
  z-index: 2;
}

/* 优化间距 */
.waveform-player-widget-container + .waveform-player-widget-container {
  margin-top: 1em !important;
}

/* 统一播放器样式 */
.wa-obsidian-player {
  background: var(--background-secondary);
  border-radius: 8px;
  padding: 0.5em;
}